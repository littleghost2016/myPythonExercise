'use strict';
/** 
 * @Name     library
 * @Author   slice 
 * @Date     2017-06-16
 * @Version  1.0.0
 */

!function(){function n(n,t){function e(n,t){return c.getComputedStyle||(c.getComputedStyle=function(n,t){return this.el=n,this.getPropertyValue=function(t){var e=/(\-([a-z]){1})/g;return"float"===t&&(t="styleFloat"),e.test(t)&&(t=t.replace(e,function(){return arguments[2].toUpperCase()})),n.currentStyle&&n.currentStyle[t]?n.currentStyle[t]:null},this}),c.getComputedStyle(n,null).getPropertyValue(t)}function a(t){var e=t||n.clientHeight,a=r(n);return Math.max(Math.floor(e/a),0)}function r(n){var t=e(n,"line-height");return"normal"==t&&(t=1.2*parseInt(e(n,"font-size"))),parseInt(t)}function i(t){return t.lastChild.children&&t.lastChild.children.length>0?i(Array.prototype.slice.call(t.children).pop()):t.lastChild&&t.lastChild.nodeValue&&""!==t.lastChild.nodeValue&&t.lastChild.nodeValue!=u.truncationChar?t.lastChild:(t.lastChild.parentNode.removeChild(t.lastChild),i(n))}function l(t,e){if(e){var a=t.nodeValue.replace(u.truncationChar,"");if(C||(y=v.length>0?v.shift():"",C=a.split(y)),C.length>1?(g=C.pop(),s(t,C.join(y))):C=null,o&&(t.nodeValue=t.nodeValue.replace(u.truncationChar,""),n.innerHTML=t.nodeValue+" "+o.innerHTML+u.truncationChar),C){if(n.clientHeight<=e){if(!(v.length>=0&&""!==y))return n.innerHTML;s(t,C.join(y)+y+g),C=null}}else""===y&&(s(t,""),t=i(n),function(){v=u.splitOnChars.slice(0),y=v[0],C=null,g=null}());if(!u.animate)return l(t,e);setTimeout(function(){l(t,e)},!0===u.animate?10:u.animate)}}function s(n,t){n.nodeValue=t+u.truncationChar}t=t||{};var o,c=window,u={clamp:t.clamp||2,useNativeClamp:void 0===t.useNativeClamp||t.useNativeClamp,splitOnChars:t.splitOnChars||[".","-","–","—"," "],animate:t.animate||!1,truncationChar:t.truncationChar||"…",truncationHTML:t.truncationHTML},d=n.style,f=n.innerHTML,h=void 0!==n.style.webkitLineClamp,m=u.clamp,p=m.indexOf&&(m.indexOf("px")>-1||m.indexOf("em")>-1);u.truncationHTML&&((o=document.createElement("span")).innerHTML=u.truncationHTML);var C,g,v=u.splitOnChars.slice(0),y=v[0];"auto"==m?m=a():p&&(m=a(parseInt(m)));var H;if(h&&u.useNativeClamp)d.overflow="hidden",d.textOverflow="ellipsis",d.webkitBoxOrient="vertical",d.display="-webkit-box",d.webkitLineClamp=m,p&&(d.height=u.clamp+"px");else{var b=function(t){return r(n)*t}(m);b<=n.clientHeight&&(H=l(i(n),b))}return{original:f,clamped:H}}window.$clamp=n}(),$(function(){$(".search").find("input").addClass("we-on").next().find("i").addClass("icon-sear"),$(".book-description").each(function(n,t){$clamp(t,{clamp:4})}),$(".figure").addClass("anim");var n=$(".banner-imgs li"),t=$(".control-page a"),e=($(".banner-btn"),0);n.css("backface-visibility","hidden"),n.css("transform","translateY(100%)"),n.eq(0).css("transform","translateY(0%)"),n.eq(n.length-1).css("transform","translateY(-100%)"),t.click(function(t){$(this).index()?(n.css({transform:"translateY(100%)",transition:"none"}),n.eq(e).css({transform:"translateY(-100%)",transition:"transform 300ms linear"}),e++,e%=n.length,n.eq(e).css({transform:"translateY(0%)",transition:"transform 300ms linear"})):(n.css({transform:"translateY(-100%)",transition:"none"}),n.eq(e).css({transform:"translateY(100%)",transition:"transform 300ms linear"}),--e<0&&(e=n.length-1),n.eq(e).css({transform:"translateY(0%)",transition:"transform 300ms linear"}))})});